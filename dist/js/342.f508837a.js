"use strict";(self["webpackChunkdigit_test"]=self["webpackChunkdigit_test"]||[]).push([[342],{34:function(s,t,e){e.d(t,{Z:function(){return r}});var o=e(3396);const a={class:"loader__wrapper"},n=(0,o._)("div",{class:"lds-roller"},[(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div")],-1),l=[n];function i(s,t){return(0,o.wg)(),(0,o.iD)("div",a,l)}var c=e(89);const d={},m=(0,c.Z)(d,[["render",i]]);var r=m},9342:function(s,t,e){e.r(t),e.d(t,{default:function(){return E}});var o=e(3396);function a(s,t,e,a,n,l){const i=(0,o.up)("AllPosts"),c=(0,o.up)("PostComments"),d=(0,o.up)("AddComment");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i,{posts:n.posts},null,8,["posts"]),(0,o.Wm)(c,{comments:n.comments},null,8,["comments"]),(0,o.Wm)(d)],64)}var n=e(7139);const l={key:1},i={key:0,class:"user-posts"},c={class:"container"},d=(0,o._)("h2",{class:"user-posts__title about__title"},"Посты",-1),m={class:"user-posts__wrapper"},r={class:"user-posts__posts-header"},_={class:"user-posts__posts-title"},p=(0,o._)("span",{class:"user-posts__post-date"}," 12.01.22 ",-1),u={class:"user-posts__text"};function h(s,t,e,a,h,v){const w=(0,o.up)("LoaderIcon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[v.loading?((0,o.wg)(),(0,o.j4)(w,{key:0})):(0,o.kq)("",!0),v.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",l,[e.posts?((0,o.wg)(),(0,o.iD)("section",i,[(0,o._)("div",c,[d,(0,o._)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.posts,(s=>((0,o.wg)(),(0,o.iD)("div",{class:"user-posts__post",key:s.id},[(0,o._)("div",r,[(0,o._)("h4",_,(0,n.zw)(s.title),1),p]),(0,o._)("div",u,(0,n.zw)(s.body),1)])))),128))])])])):(0,o.kq)("",!0)]))],64)}var v=e(34),w={props:{posts:Object},computed:{loading(){return!this.posts}},components:{LoaderIcon:v.Z}},k=e(89);const y=(0,k.Z)(w,[["render",h]]);var f=y;const b={key:0,class:"comments container"},g=(0,o._)("h2",{class:"comments__title about__title"},"Комментарии",-1),C={class:"comments__wrap"},D={class:"comments__header"},A={class:"comments__name"},x={class:"user-posts__text"};function M(s,t,e,a,l,i){return e.comments?((0,o.wg)(),(0,o.iD)("section",b,[g,(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.comments,(s=>((0,o.wg)(),(0,o.iD)("div",{class:"comments__item",key:s.id},[(0,o._)("div",D,[(0,o._)("div",A,(0,n.zw)(s.name),1),(0,o._)("div",null,(0,n.zw)(s.email),1)]),(0,o._)("div",x,(0,n.zw)(s.body),1)])))),128))])])):(0,o.kq)("",!0)}var Z={props:{comments:Object}};const P=(0,k.Z)(Z,[["render",M]]);var j=P,z=e(9242);const L={class:"modal"},q={class:"container modal__btn-wrap"},H=(0,o._)("h3",{class:"modal__title about__title"},"Добавить комментарий",-1),I={class:"modal__who-wrap"},Y={class:"modal__btns-wrap"};function $(s,t,e,a,l,i){return(0,o.wg)(),(0,o.iD)("section",L,[(0,o._)("div",q,[(0,o._)("button",{onClick:t[0]||(t[0]=(...s)=>i.showModal&&i.showModal(...s)),class:"user-posts__all-posts card-profile__link"}," Добавить комментарий ")]),(0,o._)("div",{class:(0,n.C_)(["modal__area",{active:l.modalActive}]),onClick:t[8]||(t[8]=(...s)=>i.showModal&&i.showModal(...s))},[(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,z.iM)((()=>{}),["prevent"])),class:"modal__wrap",onClick:t[7]||(t[7]=(0,z.iM)((()=>{}),["stop"]))},[H,(0,o._)("div",I,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.name=s),type:"text",name:"name",placeholder:"Ник",class:"modal__name"},null,512),[[z.nr,l.name,void 0,{trim:!0}]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.mail=s),type:"mail",name:"mail",placeholder:"Почта",class:"modal__mail"},null,512),[[z.nr,l.mail,void 0,{trim:!0}]])]),(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.comment=s),type:"text",name:"text",placeholder:"Комментарий",class:"modal__text about__form-textarea"},null,512),[[z.nr,l.comment,void 0,{trim:!0}]]),(0,o._)("div",Y,[(0,o._)("button",{onClick:t[4]||(t[4]=(...s)=>i.cancel&&i.cancel(...s)),class:"user-posts__all-posts card-profile__link"}," Отмена "),(0,o._)("button",{onClick:t[5]||(t[5]=(...s)=>i.sendComment&&i.sendComment(...s)),class:"user-posts__all-posts card-profile__link"}," Отправить ")])],32)],2)])}var U={data(){return{modalActive:!1,name:"",comment:"",mail:""}},methods:{showModal(){this.cancel()},cancel(){this.modalActive=!this.modalActive,this.name=this.comment=this.mail=""},sendComment(){this.$store.dispatch("sendComment",{postId:this.$route.params.id,id:Date.now(),name:this.name,email:this.mail,body:this.comment}),this.cancel()}},watch:{modalActive(s){s?document.body.classList.add("hidden"):document.body.classList.remove("hidden")}},unmounted(){document.body.classList.remove("hidden")}};const V=(0,k.Z)(U,[["render",$]]);var W=V,K=e(6265),O=e.n(K),S={mounted(){this.fetchComments(),this.fetchPost()},data(){return{comments:null,posts:null}},methods:{async fetchComments(){const s=(await O().get("https://jsonplaceholder.typicode.com/comments?postId="+this.$route.params.id)).data;this.comments=s},async fetchPost(){const s=(await O().get("https://jsonplaceholder.typicode.com/posts/"+this.$route.params.id)).data;this.posts=[s]}},components:{AllPosts:f,PostComments:j,AddComment:W}};const B=(0,k.Z)(S,[["render",a]]);var E=B}}]);
//# sourceMappingURL=342.f508837a.js.map